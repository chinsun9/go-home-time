(this["webpackJsonpgo-home-time"]=this["webpackJsonpgo-home-time"]||[]).push([[0],{120:function(e,t,c){"use strict";var n=c(72),i=c(0),a=c(91);t.a=function(){var e=Object(n.b)();return{initTime:Object(i.useCallback)((function(t){e(Object(a.setTime)(t))}),[e]),initMsg:Object(i.useCallback)((function(t){e(Object(a.setMsg)(t))}),[e])}}},200:function(e,t,c){"use strict";var n,i=c(92),a=c(94),r=c(93),s=c(89),o=Object(r.createReducer)({time:"1800",flag:!1,msg:"\ud1f4\uadfc\ud569\uc2dc\ub2e4!"},(n={},Object(i.a)(n,s.b,(function(e,t){var c=t.payload,n=Number(c),i=Number.isNaN(n)||c.length>4||n>2400||n<0;return Object(a.a)(Object(a.a)({},e),{},{flag:!0,time:i?"invalid":"".concat(c.padStart(2,"0").padEnd(4,"0"))})})),Object(i.a)(n,s.a,(function(e,t){var c=t.payload;return c?Object(a.a)(Object(a.a)({},e),{},{msg:c}):e})),n));t.a=o},201:function(e,t){},203:function(e,t,c){"use strict";(function(e){var n=c(4),i=c(36),a=(c(437),c(0)),r=c(17),s=c(120),o=c(71),u=c(204);function b(t){var c=t.duration,b=t.isOver,j=Object(a.useState)(b?c.abs():c),l=Object(i.a)(j,2),f=l[0],d=l[1],O=Object(a.useState)(b),h=Object(i.a)(O,2),m=h[0],v=h[1],x=Object(r.g)().location,p=Object(o.a)().msg,g=Object(s.a)().initMsg,N=Object(a.useRef)(!0),S=Object(a.useCallback)((function(e){return e.toString().padStart(2,"0")}),[]);Object(a.useEffect)((function(){console.log("init msg"),g(e.from(x.search.substr(3),"base64").toString("utf-8"))}),[g,x.search]),Object(a.useEffect)((function(){console.log("sync"),d(c),v(b)}),[b,c]),Object(a.useEffect)((function(){var e;return function(){if(!m){var t=f.asSeconds();if(t<=0){if(console.log("go home"),!("Notification"in window))return;return new Notification(p),void v(!0)}N.current&&t<=180&&t>=120&&(N.current=!1,new Notification("\ud1f4\uadfc 3\ubd84 \uc804! \uc9d0\uc744 \uc2f8\uc138\uc694!")),e=setTimeout((function(){d((function(e){return null===e||void 0===e?void 0:e.clone().subtract(1,"seconds")}))}),1e3)}}(),function(){e&&clearTimeout(e)}}),[f,m,p]);var _=Object(u.a)(f),T=_.hour,k=_.min,y=_.sec;return Object(n.jsxs)("div",{className:"timer",children:[Object(n.jsxs)("div",{className:"timer__content".concat(m?" over":""),children:[Object(n.jsx)("span",{className:"timer__hour",children:S(T)}),Object(n.jsx)("span",{children:":"}),Object(n.jsx)("span",{className:"timer__min",children:S(k)}),Object(n.jsx)("span",{children:":"}),Object(n.jsx)("span",{className:"timer__sec",children:S(y)})]}),m?Object(n.jsx)("h2",{children:p}):null]})}b.defaultProps={isOver:!1},t.a=b}).call(this,c(149).Buffer)},204:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var n=function(e){return{hour:e.get("hours"),min:e.get("minutes"),sec:e.get("seconds")}}},205:function(e,t,c){"use strict";(function(e){var n=c(4),i=(c(439),c(0),c(45)),a=c(71);t.a=function(){var t=Object(a.a)(),c=t.time,r=t.msg;return Object(n.jsx)("div",{className:"header",children:Object(n.jsx)(i.b,{to:"/".concat(c).concat(r.length>1?"?m=".concat(e.from(r,"utf-8").toString("base64")):""),children:Object(n.jsx)("h3",{children:"go home time"})})})}}).call(this,c(149).Buffer)},206:function(e,t,c){"use strict";(function(e){var n=c(4),i=c(36),a=(c(442),c(0)),r=c(3),s=c(207),o=c(17),u=(s.a,"https://chinsun9.github.io/go-home-time/");t.a=function(){var t=Object(o.g)();console.log({history:t});var c=Object(a.useState)(u),s=Object(i.a)(c,2),b=s[0],j=s[1],l=Object(a.useState)(!1),f=Object(i.a)(l,2),d=f[0],O=f[1],h=Object(a.useState)(!1),m=Object(i.a)(h,2),v=m[0],x=m[1],p=Object(a.useState)("18:00"),g=Object(i.a)(p,2),N=g[0],S=g[1],_=Object(a.useState)(""),T=Object(i.a)(_,2),k=T[0],y=T[1],w=Object(a.useState)(!1),C=Object(i.a)(w,2),E=C[0],M=C[1],F=Object(a.useRef)(null),B=Object(a.useRef)(null);return Object(a.useEffect)((function(){var t=u+N.replace(":","");t=d&&k.length>1?"".concat(t,"?m=").concat(e.from(k.trim(),"utf-8").toString("base64")):t,j(t)}),[N,k,d]),Object(n.jsxs)("div",{className:"share",children:[Object(n.jsx)("h4",{children:"\ub9c1\ud06c \uacf5\uc720\ud558\uae30"}),Object(n.jsxs)("div",{className:"share__text",children:[Object(n.jsx)("input",{ref:F,type:"text",value:b.substr(u.length),onClick:function(e){if(e.preventDefault(),F.current){navigator.clipboard.writeText(b);var t=new r.d;E||(M(!0),t.clear().fromTo(B.current,{opacity:0},{opacity:1,duration:.7,ease:r.b.easeOut}).to(B.current,{opacity:0,duration:.7,ease:r.b.easeOut,delay:1,onComplete:function(){M(!1)}}))}},spellCheck:!1,readOnly:!0}),Object(n.jsx)("div",{className:"share__modal",ref:B,children:Object(n.jsx)("span",{children:"\ub9c1\ud06c\ub97c \ubcf5\uc0ac\ud588\uc2b5\ub2c8\ub2e4."})})]}),Object(n.jsxs)("div",{className:"share__checkbox",children:[Object(n.jsxs)("label",{htmlFor:"ableTime",children:[Object(n.jsx)("input",{type:"checkbox",name:"ableTime",id:"ableTime",checked:v,onChange:function(){x(!v)}}),Object(n.jsx)("span",{children:"\ud1f4\uadfc\uc2dc\uac04"})]}),v&&Object(n.jsx)("input",{type:"time",value:N,onChange:function(e){var t=e.target.value;S(t)}})]}),Object(n.jsxs)("div",{className:"share__checkbox",children:[Object(n.jsxs)("label",{htmlFor:"ableMsg",children:[Object(n.jsx)("input",{type:"checkbox",name:"ableMsg",id:"ableMsg",checked:d,onChange:function(){O(!d)}}),Object(n.jsx)("span",{children:"\uba54\uc2dc\uc9c0"})]}),d&&Object(n.jsx)("input",{type:"text",value:k,onChange:function(e){var t=e.target.value;y(t)}})]})]})}}).call(this,c(149).Buffer)},423:function(e,t,c){},431:function(e,t,c){},432:function(e,t,c){},437:function(e,t,c){},439:function(e,t,c){},440:function(e,t,c){},441:function(e,t,c){},442:function(e,t,c){},443:function(e,t,c){"use strict";c.r(t);c(208),c(212),c(213),c(214),c(215),c(216),c(217),c(218),c(219),c(220),c(221),c(222),c(223),c(224),c(225),c(226),c(227),c(228),c(229),c(230),c(231),c(232),c(233),c(234),c(235),c(237),c(238),c(104),c(239),c(240),c(241),c(242),c(243),c(244),c(245),c(246),c(247),c(248),c(249),c(250),c(251),c(253),c(254),c(255),c(256),c(257),c(258),c(259),c(260),c(261),c(262),c(263),c(264),c(266),c(267),c(268),c(270),c(271),c(272),c(273),c(274),c(275),c(276),c(277),c(278),c(280),c(281),c(282),c(283),c(284),c(285),c(287),c(289),c(291),c(292),c(293),c(294),c(295),c(296),c(297),c(298),c(299),c(300),c(301),c(302),c(303),c(304),c(305),c(306),c(307),c(308),c(309),c(310),c(312),c(313),c(320),c(321),c(322),c(324),c(325),c(326),c(327),c(328),c(329),c(330),c(331),c(332),c(333),c(334),c(184),c(337),c(338),c(339),c(340),c(341),c(342),c(343),c(187),c(344),c(345),c(346),c(347),c(348),c(349),c(351),c(352),c(353),c(354),c(355),c(356),c(357),c(358),c(359),c(360),c(361),c(362),c(363),c(364),c(365),c(366),c(367),c(368),c(369),c(370),c(374),c(375),c(376),c(377),c(378),c(379),c(380),c(381),c(382),c(383),c(384),c(385),c(388),c(389),c(390),c(391),c(392),c(393),c(394),c(395),c(396),c(397),c(398),c(399),c(400),c(401),c(402),c(403),c(404),c(405),c(408),c(409),c(410),c(411),c(412),c(413),c(414),c(415),c(416),c(417),c(419),c(199);var n=c(4),i=(c(422),c(423),c(0)),a=c.n(i),r=c(118),s=c.n(r),o=c(72),u=c(70),b=c(91),j=Object(u.b)({time:b.default}),l=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,445)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),i(e),a(e),r(e)}))},f=(c(431),c(45)),d=c(17),O=c(36),h=(c(432),c(63)),m=c.n(h),v=c(203),x=c(120),p=c(71),g=function(e){return m.a.duration(e,"seconds")};var N=function(){var e=Object(d.h)(),t=(null===e||void 0===e?void 0:e.params).input,c=Object(x.a)().initTime,a=Object(p.a)(),r=a.flag,s=a.time,o=Object(i.useState)(),u=Object(O.a)(o,2),b=u[0],j=u[1],l=Object(d.g)(),f=Object(i.useCallback)((function(){var e=m()("".concat(Number(s.substr(0,2)),":").concat(Number(s.substr(2,2))),"hh:mm"),t=m()(),c=e.diff(t,"seconds");if(c<0&&c+43200>0)return{duration:g(c),isOver:!0};if(c<0||c>43200){console.info("\uc0c8\ubcbd\uc5d0 \uadfc\ubb34\ud558\ub294 \uc0ac\ub78c\ub4e4\uc744 \uc704\ud55c...");var n=!(c<0);return console.log({isOver:n}),{duration:g(e.clone().add(n?-1:1,"d").diff(t,"seconds")),isOver:n}}return{duration:g(c)}}),[s]);return Object(i.useEffect)((function(){r||c(t||"1800")}),[r,l,c,t,s]),Object(i.useEffect)((function(){r&&(console.log("init"),l.replace("/".concat(s).concat(l.location.search)),j(f()))}),[f,r,l,s]),Object(i.useEffect)((function(){var e=setTimeout((function(){j(f())}),6e4);return function(){clearTimeout(e)}}),[b,f]),Object(n.jsxs)("div",{className:"home",children:[Object(n.jsxs)("span",{children:["\ud1f4\uadfc\uc2dc\uac04 ","invalid"===s?t:s," \uae4c\uc9c0..."]}),"invalid"===s&&Object(n.jsx)("h1",{className:"wow",children:"\uc2e4\ud5d8 \uc815\uc2e0\uc774 \ub300\ub2e8\ud558\uad70\uc694..!"}),"invalid"!==s&&b&&Object(n.jsx)(v.a,{duration:b.duration,isOver:b.isOver})]})},S=c(205);c(440);var _=function(){return Object(n.jsxs)("div",{className:"footer",children:[Object(n.jsx)("a",{href:"https://unsplash.com/photos/WVIkqpoKz1I",target:"_blank",rel:"noreferrer",children:"Photo by @swayte on Unsplash"}),Object(n.jsx)(f.b,{to:"about",children:"about"})]})},T=(c(441),c(206));var k=function(){return Object(n.jsxs)("div",{className:"about",children:[Object(n.jsxs)("p",{children:["\uc9d1\uc774 \uac00\uace0 \uc2f6\uc740 \uc0ac\ub78c\ub4e4\uc744 \uc704\ud55c \ud0c0\uc774\uba38",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"\uc774 \ud0c0\uc774\uba38\ub294 \ub85c\uceec\uc5d0\uc11c setTimeout\uc744 \ud1b5\ud574 \ud0c0\uc774\uba38\ub97c \ud45c\ud604\ud569\ub2c8\ub2e4. \ub530\ub77c\uc11c \uc2dc\uac04\uc774 \uc9c0\ub0a8\uc5d0 \ub530\ub77c \uc624\ucc28\uac00 \uc0dd\uae38 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc774\uc81c 1\ubd84\ub9c8\ub2e4 \ub3d9\uae30\ud654\ud569\ub2c8\ub2e4",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"source code here :"," ",Object(n.jsx)("a",{href:"https://github.com/chinsun9/go-home-time",target:"_blank",rel:"noreferrer",children:"github repo"})]}),Object(n.jsx)(T.a,{})]})};var y=function(){var e=Object(d.h)(),t=(null===e||void 0===e?void 0:e.params).input,c=Number(t);if(Number.isNaN(c)||c<0||c>12)return Object(n.jsx)(d.a,{to:"/invalid"});var i=m()().add(c,"hours").format("HHmm");return Object(n.jsx)(d.a,{to:"/".concat(i)})};var w=function(){return Object(i.useEffect)((function(){"Notification"in window&&"granted"!==Notification.permission&&Notification.requestPermission((function(e){"denied"!==e&&new Notification("\ud1f4\uadfc\uc2dc\uac04\uc774 \ub418\uba74 \uc54c\ub824\ub4dc\ub9bd\ub2c8\ub2e4!",{silent:!0})}))}),[]),Object(n.jsx)(f.a,{basename:"/go-home-time",children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(S.a,{}),Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{exact:!0,path:"/about",children:Object(n.jsx)(k,{})}),Object(n.jsx)(d.b,{exact:!0,path:"/",children:Object(n.jsx)(N,{})}),Object(n.jsx)(d.b,{path:"/start/:input",children:Object(n.jsx)(y,{})}),Object(n.jsx)(d.b,{path:"/:input",children:Object(n.jsx)(N,{})}),Object(n.jsx)(d.b,{path:"*",children:Object(n.jsx)("p",{children:"im not found"})})]}),Object(n.jsx)(_,{})]})})},C=Object(u.c)(j);s.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(o.a,{store:C,children:Object(n.jsx)(w,{})})}),document.getElementById("root")),l()},71:function(e,t,c){"use strict";var n=c(72);t.a=function(){return Object(n.c)((function(e){return e.time}))}},89:function(e,t,c){"use strict";c.d(t,"b",(function(){return i})),c.d(t,"a",(function(){return a})),c.d(t,"d",(function(){return r})),c.d(t,"c",(function(){return s}));var n=c(93),i="time/SET_TIME",a="time/SET_MSG",r=Object(n.createAction)(i)(),s=Object(n.createAction)(a)()},91:function(e,t,c){"use strict";var n=c(200);c.d(t,"default",(function(){return n.a}));var i=c(89);c.d(t,"setMsg",(function(){return i.c})),c.d(t,"setTime",(function(){return i.d}));c(201)}},[[443,1,2]]]);
//# sourceMappingURL=main.dc696dc6.chunk.js.map